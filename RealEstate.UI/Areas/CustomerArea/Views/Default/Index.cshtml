@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/CustomerArea/Views/Shared/_CustomerLayout.cshtml";
}


<div class="content">

    <!--SearchBar-->
    @*@await Component.InvokeAsync("_CustomerSearchBarPartial")*@
    <form asp-action="Index" enctype="multipart/form-data" method="post">
        <div class="place-section">
            <div class="container">
                <h2>find your place</h2>
                <div class="place-grids">

                @*    <div class="form-group">
                        <select asp-items="ViewBag.sehir" class="form-select my-4" id="sehir">
                            <option value="">Şehir Seçiniz</option>
                        </select>
                        <select class="form-select my-4" id="ilce">
                            <option value="">İlçe Seçiniz</option>
                        </select>
                        <select id="mahalle" class="form-select my-4">
                            <option value="">Mahalle Seçiniz</option>
                        </select>
                    </div>*@
                       <div class="col-md-3 place-grid">
                    <h5>Tüm Şehir Listesi</h5>
                    <select  asp-items="ViewBag.sehir" class="sel" id="sehir">
                    <option value="">Şehir Seçiniz</option>
                    </select>
                    </div>

                    <div class="col-md-3 place-grid">
                    <h5>İlçeler</h5>
                    <select  id="ilce" class="sel">
                    <option value="">İlçe Seçiniz</option>
                    </select>
                    </div>

                    <div class="col-md-3 place-grid">
                    <h5>Mahalleler</h5>
                    <select  id="mahalle" class=" sel">
                    <option value="">Mahalle Seçiniz</option>
                    </select>
                    </div>

                    <div class="col-md-3 place-grid">
                        <h5>Property Status</h5>
                        <select class="sel">
                            <option value="">All status</option>
                            <option value="">none</option>
                            <option value="">open house</option>
                            <option value="">rent</option>
                            <option value="">sale</option>
                        </select>
                    </div>
                    <div class="col-md-3 place-grid">
                        <h5>Property Type</h5>
                        <select class="sel">
                            <option value="">All Type</option>
                            <option value="">Commercial</option>
                            <option value="">- Office</option>
                            <option value="">- Buy</option>
                            <option value="">Residential</option>
                            <option value="">-Apartment</option>
                        </select>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="place-grids">
                    <div class="col-md-2 place-grid1">
                        <h5>Min Beds</h5>
                        <select class="sel">
                            <option value="">any</option>
                            <option value="">1</option>
                            <option value="">2</option>
                            <option value="">3</option>
                            <option value="">4</option>
                            <option value="">5</option>
                        </select>
                    </div>
                    <div class="col-md-2 place-grid1">
                        <h5>Min Baths</h5>
                        <select class="sel">
                            <option value="">any</option>
                            <option value="">1</option>
                            <option value="">2</option>
                            <option value="">3</option>
                            <option value="">4</option>
                            <option value="">5</option>
                        </select>
                    </div>
                    <div class="col-md-2 place-grid1">
                        <h5>Min Price</h5>
                        <select class="sel">
                            <option value="">any</option>
                            <option value="">$500</option>
                            <option value="">$1000</option>
                            <option value="">$2000</option>
                            <option value="">$3000</option>
                            <option value="">$4000</option>
                            <option value="">$5000</option>
                            <option value="">$75000</option>
                            <option value="">$10000</option>
                        </select>
                    </div>
                    <div class="col-md-2 place-grid1">
                        <h5>Max Price</h5>
                        <select class="sel">
                            <option value="">any</option>
                            <option value="">$1000</option>
                            <option value="">$2000</option>
                            <option value="">$3000</option>
                            <option value="">$4000</option>
                            <option value="">$5000</option>
                            <option value="">$75000</option>
                            <option value="">$10000</option>
                        </select>
                    </div>
                    <div class="col-md-4 search">
                        <form action="forrent.html">
                            <input type="submit" value="Search">
                        </form>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </form>
   


    <!--SearchBar-->
    <!--Promotion-->
    @await Component.InvokeAsync("_PromotionPartial")
    <!--Promotion-->
</div>

@section Scriptsss {
    <script>
        $(document).ready(function () {
            $("#sehir").change(function () {
                var sehirKey = $(this).val();
                console.log("Deneme");
                $.getJSON(`../CustomerArea/Default/GetIlce?sehirKey=${sehirKey}`, function (data) {
                    var items = "";
                    $.each(data, function (i, ilce) {
                        items += `<option value="${ilce.ilce_key}">${ilce.ilce_title}</option>`;
                    });
                    $("#ilce").html(items);
                });
            });

            $("#ilce").change(function () {
                var ilceKey = $(this).val();
                $.getJSON(`../CustomerArea/Default/GetMahalle?ilceKey=${ilceKey}`, function (data) {
                    var items = "";
                    $.each(data, function (i, mahalle) {
                        items += `<option value="${mahalle.mahalle_key}">${mahalle.mahalle_title}</option>`;
                    });
                    $("#mahalle").html(items);
                });
            });
        });
    </script>
    }
